:root{font-family:'Manrope',sans-serif;color:#111;background:#0d1117;}
*{box-sizing:border-box;}
body{margin:0;min-height:100vh;background:url('./background.png') center/cover no-repeat;display:flex;justify-content:center;}
.app{max-width:420px;width:100%;padding:12px;backdrop-filter:blur(4px);}
.hud{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:12px;background:rgba(255,255,255,0.84);margin-bottom:12px;box-shadow:0 10px 30px rgba(0,0,0,0.18);}
.hud span{display:block;font-size:12px;color:#4b5563;}
.hud strong{font-size:18px;color:#0f172a;}
.message{opacity:0;transition:opacity 0.3s ease;color:#ef4444;font-weight:700;}
.message-show{opacity:1;}
.board{position:relative;display:flex;flex-direction:column;gap:18px;}
.shelf{position:relative;}
.shelf-image{width:100%;}
.shelf-boxes{position:absolute;inset:0;display:flex;justify-content:space-evenly;align-items:flex-end;padding:0 12px 6px;gap:12px;}
.box{position:relative;width:44%;height:120px;display:flex;align-items:center;justify-content:center;}
.box-back,.box-front{position:absolute;inset:0;width:100%;height:100%;object-fit:contain;}
.box-back{z-index:1;}
.box-front{z-index:3;}
.box-items{position:relative;display:flex;gap:4px;z-index:2;}
.box-closed .box-items{filter:grayscale(1) blur(1px);}
.item-node{width:54px;height:54px;object-fit:contain;transition:transform 0.18s ease;touch-action:none;}
.item-floating{z-index:20;pointer-events:none;position:fixed;}
.timer{color:#0ea5e9;}
.triples{color:#22c55e;}
.level{color:#8b5cf6;}
